<link rel="stylesheet" href="https://rsms.me/inter/inter.css">
<style>
body {
  font-family: 'Inter', sans-serif;
}
p {
  cursor: pointer;
}
</style>

<h1>Table of contents</h1>
<script>
  const body = document.querySelector("body")
 

//create elements 'onmessage'
onmessage = (event) => {
 // console.log("from code.ts:  ", event.data.pluginMessage)
  let names = event.data.pluginMessage;
  //console.log("does it work?  ", names)
  names.map(name => {
    let element = document.createElement("p")
    element.innerText = name
    body.append(element)
    
  })

  document.querySelectorAll('p').forEach(el => el.onclick = () => {
  //console.log(el.innerText)
  const linkName = el.innerText
  
  parent.postMessage({pluginMessage: linkName}, '*')
})
}
//how to send elements to code.ts? store in  []?


</script>